# Структура кода:

## Сервер:
**app.py** 
Сам сервер, написанный на python3.6 с использованием Flask

**db_generator.py**
Программа для генерации базы данных, используемая сервером

**Dockerfile**
Конфигурация докер образа для сервера

**reqirements.txt**
Файл необходимых дополнительных пакетов для образа сервера

**docker-compose.yml**
Файл конфигурации контейнеров (mongo и сервер a.k.a app.py)

## Клиент:
**client.py**
CLI приложение, которое позволяет отправлять N-ое количество POST запросов заданной формы: field_name1=data_type1&field_name2=data_type2&..., как сгенерированных так и введенных вручную, а также записывать возвращаемые значения в файл и генерировать базу с настройками по умолчанию. Возвращает номер запроса, его содержание и ответ сервера.
	
**request_generator.py** Генератор запроса

***
# Инструкции:

## Запуск сервера:
Перед запуском необходимо убедиться, что у Вас установлен и запущен docker!
В первую очередь нужно запулить стандартный образ mongodb:
> docker pull mongo
	
Далее необходимо собрать образ сервера:
>docker build -t app.py .

После этого можно запускать сервер. Если нужно, чтобы он работал в режиме демона, просто добавьте флаг -d:
> docker-compose up

## Запуск клиента:
Для запуска клиента необходим python3.6(желательно, так на других версиях третьего питона
тестирование не проводилось. На втором работать не будет)
> python3.6 client.py N -f output.txt -g -a field_name1=data_type1&field_name2=data_type2

***N*** – Обязательный аргумент, >= 1. Количество запросов, которое будет отправленно на сервер

```bash
-f --file filename
```
Необязательный аргумент. Записывает вывод программы в файл.
По умолчанию возвращает на консоль.
```bash
-g --generate_database
```
Необязательный аргумент. Перед отправкой запросов просит сервер сгенерировать новую базу с настройками по умолчанию
```bash
-a --add_manually
```
Не обязательный аргумент. Позволяет отправить запрос написанный вручную. Если N при этом больше 1, все остальные запросы будут сгенерированны.

## Веб-версия:
Сервер поддерживает элементарный веб-интерфейс. 
Адрес: [http://localhost](http://localhost)

>/generate 

Генерирует базу с настройками по умолчанию

>/generate<db_size>_<max_temp_size>

Генерирует базу размера db_size с максимальным
размером шаблона max_temp_size

>/show-database

Показывает содержимое базы данных в "сыром" виде.







